<!-- trip-planner.component.html -->
<div class="background-wrapper">
  <!-- Dynamic background image with blur -->
  <div class="background-image" [ngStyle]="{ 'background-image': 'url(' + currentBackground + ')' }"></div>

  <!-- Optional light overlay to enhance contrast -->
  <div class="overlay"></div>

  <!-- Glass effect container -->
  <div class="container mt-5">
    <h2 class="text-center mb-4">ğŸŒ DuniyaGhum.com</h2>

    <form (ngSubmit)="planTrip()" class="row g-3 justify-content-center">
      <div *ngFor="let city of cities; let i = index; trackBy: trackByIndex" class="col-md-6">
        <label class="form-label text-white">City {{ i + 1 }}</label>
        <input
          type="text"
          [(ngModel)]="cities[i]"
          name="city-{{ i }}"
          class="form-control"
          placeholder="Enter City"
          required
        />
      </div>

      <div class="col-md-2 d-flex align-items-end">
        <button type="button" (click)="addCityField()" class="btn btn-secondary w-100">
          + Add City
        </button>
      </div>

      <div class="col-12 text-center">
        <button type="submit" class="btn btn-primary px-4">ğŸš€ Plan Trip</button>
      </div>
    </form>

    <!-- Loading Spinner -->
    <div class="text-center mt-4" *ngIf="loading">
      <div class="spinner-border text-light" role="status"></div>
      <p class="mt-2 text-white">Planning your trip...</p>
    </div>

    <!-- Error Message -->
    <div class="text-danger text-center mt-2" *ngIf="error">{{ error }}</div>

    <!-- Optimized Route & Map -->
    <div class="mt-5 result-box" *ngIf="route.length > 1">
      <h4 class="text-center mb-3">ğŸ§­ Optimized Visit Order:</h4>
      <ol class="text-center">
        <li *ngFor="let city of route">{{ city }}</li>
      </ol>
      <div id="map" class="mt-4"></div>
    </div>
  </div>
</div>
